% =============================
% Document class & basic setup
% =============================

% chktex-file 8

% Suppress underfull/overfull hbox warnings
\hbadness=10000
\hfuzz=\maxdimen

% Encoding and fonts
\usepackage{everypage-1x}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[protrusion=false]{microtype}       % Better typography
\renewcommand{\familydefault}{\sfdefault} % Sans serif default
% =============================
% Core packages
% =============================
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage[table]{xcolor}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage[export]{adjustbox}
\usepackage[hidelinks]{hyperref}
\usepackage[hidelinks]{hyperref}
\setlength{\headheight}{53.54352pt} % Fix fancyhdr warning
\usepackage{titlesec}
\usepackage{tocbibind}
\usepackage[most]{tcolorbox}
\usepackage{makeidx}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{geometry}
\usepackage{fancyhdr}
% =============================
% Geometry & margins
% =============================
\geometry{
  top=3.5cm,
  bottom=2.5cm,
  left=3cm,
  right=3cm,
  headsep=0.75cm
}
\newcommand{\sectionbreak}{\clearpage}
\newcommand{\subsectionbreak}{\clearpage}

\titlespacing*{\section}{0pt}{*2}{*1}
\titlespacing*{\subsection}{0pt}{*1.5}{*1}


% =============================
% Team branding colors
% =============================
\definecolor{teamprimary}{HTML}{862633}
\definecolor{teamsecondary}{HTML}{EAAA00}
\definecolor{textgray}{gray}{0.5}
% =============================
% Index setup
% =============================
\makeindex
\newcommand{\idx}[1]{#1\index{#1}}
% =============================
% Header & footer styles
% =============================
\newcommand{\teamname}{Claremont-Mudd-Scripps}
\newcommand{\sport}{Swim \& Dive}
\newcommand{\season}{2025--2026 Media Guide}
\newcommand{\teamlogo}{../assets/logo.png} % Path to logo
% Track current section/subsection
\newcommand{\currentsectiontitle}{}
\newcommand{\currentsubsectiontitle}{}
\renewcommand{\sectionmark}[1]{\gdef\currentsectiontitle{#1}}
\renewcommand{\subsectionmark}[1]{\gdef\currentsubsectiontitle{#1}}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\fontsize{18pt}{30pt}\selectfont \teamname}
\fancyhead[R]{\fontsize{18pt}{30pt}\selectfont \season}
\fancyhead[C]{\raisebox{-0.2\height}{\includegraphics[height=1cm]{\teamlogo}}}
\fancyfoot[C]{\fontsize{12pt}{30pt}\selectfont \thepage}
\fancyfoot[L]{\textcolor{textgray}{\currentsectiontitle}}
\fancyfoot[R]{\textcolor{textgray}{\currentsubsectiontitle}}
\renewcommand{\headrule}{\vspace{5pt}\hrule height 0.4pt \vspace{5pt}}
% =============================
% Page border
% =============================
\newcommand\DrawPageBorder{%
\begin{tikzpicture}[overlay, remember picture]
\draw[teamprimary, line width=5pt] 
  ($(current page.north west) + (1cm,-1cm)$) rectangle 
  ($(current page.south east) + (-1cm,1cm)$);
\end{tikzpicture}%
}
\AddEverypageHook{\DrawPageBorder}
% =============================
% Custom commands
% =============================
\newcommand{\coachinfo}[4]{
    \begin{tcolorbox}[width=\textwidth, colback=teamsecondary!50!white, colframe=teamprimary, title=#1]
        \begin{tabularx}{\textwidth}[t]{@{}cX@{}}
            \raisebox{-\totalheight}{\includegraphics[height=2cm]{#2}} & 
            \begin{tabular}[t]{@{}lX@{}}
                \textbf{#3} \\
                #4
            \end{tabular}
        \end{tabularx}
    \end{tcolorbox}
    \vspace{10pt}
}
% =============================
% Hypersetup
% =============================
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=black
}